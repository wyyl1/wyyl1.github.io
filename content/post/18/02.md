---
title: "ã€ŠJava æµ‹è¯•é©±åŠ¨å¼€å‘ã€‹å­¦ä¹ ç¬”è®°"
date: 2022-02-01T00:00:01+08:00
draft: false
tags: ["å†™å¥½ä»£ç ","å…¥é—¨",â€Java æµ‹è¯•é©±åŠ¨å¼€å‘â€œ]
categories: ["å­¦ä¹ ç¬”è®°"]
---

> [å¦‚ä½•å†™å¥½ä»£ç ](../dir)

## 1 ä¸ºä½•è¦å…³ç³»æµ‹è¯•é©±åŠ¨å¼€å‘

### 1.1.2 çº¢ç¯-ç»¿ç¯-é‡æ„

åœ¨é‡æ„é˜¶æ®µï¼Œæˆ‘ä»¬ä¸ä¿®æ”¹ä»»ä½•åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜ å…¥æ–°çš„æµ‹è¯•ï¼Œè€Œåªæ”¹è¿›ä»£ç ï¼Œå¹¶ä¸æ–­è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼Œç¡®ä¿æ²¡æœ‰ç ´åä»»ä½•åŠŸèƒ½

### 1.1.4 TDD å¹¶éæµ‹è¯•æ–¹æ³•

> ğŸ’¡ æµ‹è¯•é©±åŠ¨å¼€å‘çš„ä¸»è¦ç›®æ ‡æ˜¯æä¾›å¯æµ‹è¯•çš„ä»£ç è®¾è®¡ï¼Œæµ‹è¯•åªæ˜¯ä¸€é¡¹å¾ˆæœ‰ç”¨çš„å‰¯äº§å“

### 1.5 æ— éœ€è°ƒè¯•

> ğŸ’¡ ä»£ç è¦†ç›–ç‡å¾ˆé«˜çš„æƒ…å†µä¸‹ï¼Œä¸é€è¡Œè°ƒè¯•ç›´åˆ°æ‰¾åˆ°ç½ªé­ç¥¸é¦–ç›¸æ¯”ï¼Œé€šè¿‡æµ‹è¯•æ‰¾å‡ºå¯¼è‡´ Bug çš„åŸå› è¦å¿«å¾—å¤š

## 2 å·¥å…·ã€æ¡†æ¶å’Œç¯å¢ƒ

### 2.4 é›†æˆå¼€å‘ç¯å¢ƒ

ä»“åº“åœ°å€ï¼šhttps://bitbucket.org/vfarcic/

### 2.6.1 Hamcrest

### 2.6.2 AssertJ

### 2.7 ä»£ç è¦†ç›–ç‡å·¥å…·

- ä¸èƒ½æä¾›è´¨é‡æ–¹é¢çš„ä¿¡æ¯ï¼Œåªèƒ½å‘Šè¯‰ä½ å“ªäº›ä»£ç ç»è¿‡æµ‹è¯•äº†
- ä»£ç è¦†ç›–ç‡å·¥å…·èƒ½å¤ŸæŒ‡å‡ºæµ‹è¯•æ‰§è¡ŒæœŸé—´è§¦åŠäº†å“ªäº›ä»£ç è¡Œï¼Œä½†å¹¶ä¸èƒ½ä¿è¯ä½ éµå¾ªäº†è‰¯å¥½çš„æµ‹è¯•å®è·µï¼Œå› ä¸ºè¿™äº›æŒ‡æ ‡ä¸­ä¸åŒ…å«æµ‹è¯•è´¨é‡

JaCoCo ï¼ˆJava Code Coverageï¼‰

```cmd
gradle test jacocoTestReport
```

ç»“æœå­˜å‚¨åœ¨ç›®å½• build/reports/jacoco/test/html

### 2.8 æ¨¡æ‹Ÿæ¡†æ¶

- Mockito (æ–°ç‰ˆå·²æ”¯æŒé™æ€æ–¹æ³•)
- EasyMock
- PowerMock
  - Mockito å’Œ EasyMock å¯èƒ½æ— æ³•æä¾›å¯¹ static æˆ– final çš„æ–¹æ³•çš„æ¨¡æ‹Ÿï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ PowerMock
  - æ…ç”¨ï¼šå› ä¸ºå¦‚æœå¿…é¡»ä½¿ç”¨å®ƒæä¾›çš„å¾ˆå¤šåŠŸèƒ½ï¼Œé€šå¸¸æ˜­ç¤ºç€è®¾è®¡å¾ˆç³Ÿç³•
  - å¤„ç†é—ç•™ä»£ç æ—¶ï¼ŒPowerMock å¯èƒ½æ˜¯ä¸é”™çš„é€‰æ‹©

### 2.9 ç”¨æˆ·ç•Œé¢æµ‹è¯•

- Selenium
- Selenide
  - åŸºäº Selenium çš„é¡¹ç›®
  - æä¾›äº†ä¼˜è‰¯çš„æµ‹è¯•ç¼–å†™è¯­æ³•ï¼Œæé«˜äº†æµ‹è¯•çš„å¯è¯»æ€§
  - å®ƒå°† WebDriver å’Œé…ç½®éšè—ï¼ŒåŒæ—¶æä¾›äº†æå¤§çš„å®šåˆ¶ç©ºé—´

## 3 çº¢ç¯-ç»¿ç¯-é‡æ„â€”â€”ä»å¤±è´¥åˆ°æˆåŠŸå†åˆ°å®Œç¾

### 3.2.5 é‡æ„

- ä¸€æ—¦è®¤ä¸ºå¯ä»¥æ›´ä½³æˆ–è€…æ›´ä¼˜çš„æ–¹å¼é‡å†™ä»£ç ï¼Œé‚£å°±æ˜¯é‡æ„çš„æœ€ä½³æ—¶æœº
- æœ€é‡è¦çš„è§„åˆ™æ˜¯é‡æ„ä¸èƒ½æ”¹å˜ä»»ä½•æ—¢æœ‰åŠŸèƒ½

### 3.2.6 é‡å¤

- ç»éªŒä¸°å¯Œçš„ TDD è·µè¡Œè€…ç¼–å†™ 1~10 è¡Œä»£ç åå°±åˆ‡æ¢åˆ°ä¸‹ä¸€æ­¥ï¼Œå› æ­¤æ•´ä¸ªå‘¨æœŸçš„æŒç»­æ—¶é—´ä¸ºå‡ ç§’~å‡ åˆ†é’Ÿ
- å¦‚æœæ›´é•¿ï¼Œå°±è¯´æ˜æµ‹è¯•çš„èŒƒå›´å¤ªå¤§ï¼Œåº”å°†å…¶åˆ†æˆå¤šä¸ªæ›´å°çš„æµ‹è¯•
- ä¸€å®šè¦**å¿«é€Ÿå‰è¿›**ï¼Œ**å¿«é€Ÿå¤±è´¥å¹¶æ›´æ­£**ï¼Œç„¶ååœ¨é‡å¤

### 3.4 å¼€å‘â€œäº•å­—æ¸¸æˆâ€

åªåŒ…å«è®©æµ‹è¯•èƒ½å¤Ÿé€šè¿‡çš„æœ€å°‘ä»£ç ï¼Œè€Œæ²¡æœ‰ä»»ä½•å¤šä½™ä»£ç 

> æœ€å°‘ï¼šåœ¨åˆç†èŒƒå›´å†…å°½å¯èƒ½å°‘

```java
public class TicTacToeTest {

    private TicTacToe ticTacToe;

    @BeforeEach
    void before(){
        ticTacToe = new TicTacToe();
    }

    @Test
    void whenXOutsideBoardThenThrowRuntimeException(){
        assertThatThrownBy(() -> ticTacToe.play(5, 2))
                .isInstanceOf(RuntimeException.class);
    }
}
```

```java
public class TicTacToe {

    public void play(int x, int y) {
        if (x < 1 || x > 3) {
            throw new RuntimeException("X is outside board");
        }
    }
}
```

### 3.4.2 éœ€æ±‚ 2

> **å…ˆç¼–å†™æµ‹è¯•ï¼Œå†ç¼–å†™å®ç°ä»£ç **

- è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥ç¡®ä¿ç¼–å†™çš„ä»£ç æ˜¯å¯æµ‹è¯•çš„ï¼Œä¸”æ¯è¡Œä»£ç éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•
- é€šè¿‡å…ˆç¼–å†™æˆ–ä¿®æ”¹æµ‹è¯•ï¼Œå¼€å‘äººå‘˜å¯åœ¨ç¼–å†™ä»£ç å‰ä¸“æ³¨äºéœ€æ±‚
- è¿™æ˜¯ä¸å®Œæˆå®ç°åå†ç¼–å†™æµ‹è¯•çš„ä¸»è¦å·®åˆ«æ‰€åœ¨
- æµ‹è¯•å…ˆè¡Œçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¯é¿å…åŸæœ¬åº”ä¸ºè´¨é‡ä¿è¯çš„æµ‹è¯•æ²¦ä¸ºè´¨é‡æ£€æŸ¥

### 3.4.4 éœ€æ±‚ 4

- é€šå¸¸ä»£ç ç¼–å†™åç«‹å³è¿›è¡Œé‡æ„æœ€å®¹æ˜“ä¹Ÿæœ€å¿«
- é‡æ„å‡ å¤©ã€å‡ æœˆç”šè‡³å‡ å¹´å‰ç¼–å†™çš„ä»£ç æ›´å¯è´µ
- å‘ç°å¯è®©ä»£ç æ›´å¥½å°±æ˜¯é‡æ„å®ƒçš„æœ€ä½³æ—¶æœº

### 3.5 ä»£ç è¦†ç›–ç‡

- ä½¿ç”¨ä»£ç è¦†ç›–ç‡å·¥å…·æ˜¯ä¸€ç§ä»è‡ªå·±çš„é”™è¯¯ä¸­å­¦ä¹ çš„æä½³æ–¹å¼

## 4 å•å…ƒæµ‹è¯•â€”â€”ä¸“æ³¨äºå½“ä¸‹è€Œéè¿‡å¾€

### 4.2 TDD ä¸­çš„å•å…ƒæµ‹è¯•

**åœ¨ TDD ä¸­ï¼Œå•å…ƒæµ‹è¯•æ˜¯é¢„å…ˆç¼–å†™çš„ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯å®šä¹‰éœ€æ±‚å’Œè®¾è®¡ï¼Œè€ŒéªŒè¯åªæ˜¯å‰¯äº§å“**

## 5 è®¾è®¡â€”â€”éš¾ä»¥æµ‹è¯•è¯´æ˜è®¾è®¡ä¸ä½³

### 5.1 ä¸ºä½•è¦å…³å¿ƒè®¾è®¡

è®¾è®¡åŸåˆ™

- ä½ ä¸ä¼šéœ€è¦å®ƒ YAGNIï¼ˆYou ain't gonna need itï¼‰
  - ç›®çš„æ˜¯æ¶ˆé™¤æ‰€æœ‰å†—ä½™ä»£ç ï¼Œå¹¶ä¸“æ³¨äºå½“å‰è€Œä¸æ˜¯æœªæ¥çš„åŠŸèƒ½
  - ä»£ç è¶Šå°‘ï¼Œéœ€è¦ç»´æŠ¤çš„ä»£ç å°±è¶Šå°‘ï¼ŒåŒæ—¶å¼•å…¥ bug çš„å¯èƒ½æ€§ä¹Ÿè¶Šå°
- ä¸è¦è‡ªæˆ‘é‡å¤ DRYï¼ˆDon't repeat yourselfï¼‰
  - é‡ç”¨è€Œä¸æ˜¯å¤åˆ¶ä»¥å‰ç¼–å†™çš„ä»£ç 
  - å¥½å¤„ï¼šéœ€è¦ç»´æŠ¤çš„ä»£ç æ›´å°‘ï¼Œå¹¶ç¡®ä¿¡ä½¿ç”¨çš„ä»£ç æ˜¯å¯è¡Œçš„
  - å¥½å¤„ï¼šæœ‰åŠ©äºåœ¨ä»£ç ä¸­å‘ç°æ–°çš„æŠ½è±¡å±‚çº§
- ä¿æŒç®€å• KISSï¼ˆKeep it simple, stupidï¼‰
  - è¶Šç®€å•çš„ä¸œè¥¿è¶Šèƒ½å®ç°å…¶åŠŸèƒ½
- å¥¥å¡å§†å‰ƒåˆ€åŸç†
  - å®ƒæ˜¯ä¸€ä¸ªè¿™äº›åŸåˆ™ï¼Œè€Œéè½¯ä»¶å·¥ç¨‹åŸåˆ™
  - ä½†ä¾ç„¶é€‚ç”¨è½¯ä»¶å·¥ç¨‹
  - å¦‚æœä½ æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªç±»ä¼¼çš„è§£å†³æ–¹æ¡ˆï¼Œé€‰æ‹©æœ€ç®€å•çš„
- SOLID
  - Robert C. Martin å‘æ˜çš„ä¸€ä¸ªé¦–å­—æ¯ç¼©å†™ï¼Œæ¶µç›– 5 ä¸ªé¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºæœ¬åŸåˆ™
  - **å•ä¸€èŒè´£åŸåˆ™**ï¼šä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¯¼è‡´å®ƒéœ€è¦ä¿®æ”¹çš„åŸå› 
  - **å¼€-é—­åŸåˆ™**ï¼šæœ€åˆç”± Bertrand Meyer æå‡º
  - **é‡Œæ°æ›¿æ¢åŸåˆ™**ï¼šç”± Barbara Liskov æå‡ºï¼Œç±»åº”è¯¥èƒ½å¤Ÿè¢«æ‰©å±•å®ƒçš„ç±»æ›¿æ¢
  - **æ¥å£åˆ†ç¦»åŸåˆ™**ï¼šæä¾›å¤šä¸ªå…·ä½“æ¥å£èƒœè¿‡æä¾›å•ä¸ªé€šç”¨æ¥å£
  - **ä¾èµ–å€’è½¬åŸåˆ™**ï¼šç±»åº”è¯¥ä¾èµ–äºæŠ½è±¡è€Œä¸æ˜¯å®ç°ï¼Œä¾èµ–å¿…é¡»ä¸“æ³¨äºåšä»€ä¹ˆè€Œä¸æ˜¯å¦‚ä½•åš

å‰ 4 ä¸ªåŸåˆ™æ˜¯ TDD æ€ç»´çš„æ ¸å¿ƒï¼Œå› ä¸ºå®ƒä»¬çš†åœ¨ç®€åŒ–ä»£ç 
æœ€åä¸€ä¸ªåŸåˆ™ä¸“æ³¨äºç±»çš„ç¼–å†™å’Œä¾èµ–å…³ç³»

### 5.4.9 éœ€æ±‚ 8

- ä»£ç è¦†ç›–ç‡ä¸æ˜¯ç›®æ ‡
- TDD çš„ä¼˜ç‚¹æ˜¯ï¼šæä¾›äº†å¾ˆæœ‰å¸®åŠ©çš„æµ‹è¯•ï¼Œå¯ç¡®ä¿æœªæ¥ä¿®æ”¹æ–¹æ³•æ—¶ä¸ä¼šæ”¹å˜å…¶è¡Œä¸º

### 5.5 å°ç»“

æ›´æ·±å…¥å­¦ä¹ æ¨èé˜…è¯» Robert C. Martin çš„ä¸¤éƒ¨è‘—ä½œ

- ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹
- ã€Šæ•æ·è½¯ä»¶å¼€å‘ï¼šåŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹

## 6 æ¨¡æ‹Ÿâ€”â€”æ¶ˆé™¤å¤–éƒ¨ä¾èµ–

- å•å…ƒæµ‹è¯•çš„é‡ç‚¹æ˜¯éªŒè¯å•ä¸ªå•å…ƒæ˜¯å¦æ­£å¸¸ï¼Œè€Œä¸è€ƒè™‘ä¾èµ–ï¼ŒTDD ä¸­çš„å•å…ƒæµ‹è¯•å°¤å…¶å¦‚æ­¤
- ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡
  - ä»£ç ä¾èµ–æ›´å°‘
  - æµ‹è¯•æ‰§è¡Œé€Ÿåº¦æ›´å¿«
- è¦å¿«é€Ÿæ‰§è¡Œæµ‹è¯•å¹¶ä¸“æ³¨äºå•ä¸ªåŠŸèƒ½å•å…ƒï¼Œå¿…é¡»ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡
- ä¸ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œæµ‹è¯•çš„æ‰§è¡Œé€Ÿåº¦é€šå¸¸å¾ˆæ…¢
- æ¨¡æ‹Ÿå¯¹è±¡éå¸¸é€‚åˆç”¨äºä»£æ›¿ï¼šæ•°æ®åº“ã€å…¶ä»–äº§å“ã€æœåŠ¡ç­‰

### 6.2 Mockito

- **mock()**: ç”¨äºåˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ **when()** å’Œ **giver()** æŒ‡å®šè¿™äº›æ¨¡æ‹Ÿå¯¹è±¡çš„è¡Œä¸º
- **spy()**: å¯ç”¨äºå®ç°éƒ¨åˆ†æ¨¡æ‹Ÿã€‚
  - é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™é—´è°å¯¹è±¡è°ƒç”¨å®é™…æ–¹æ³•
  - ä¸æ¨¡æ‹Ÿå¯¹è±¡ä¸€æ ·ï¼Œå¯¹äºé—´è°å¯¹è±¡çš„æ¯ä¸ªå…¬æœ‰æˆ–å—ä¿æŠ¤çš„æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•é™¤å¤–ï¼‰ï¼Œéƒ½å¯è®¾ç½®å…¶è¡Œä¸º
  - ä¸»è¦å·®åˆ«ï¼š**mock()** åˆ›å»ºä¸€ä¸ªå®Œå…¨ä¼ªé€ çš„å¯¹è±¡ï¼› **spy()** ä½¿ç”¨å®é™…å¯¹è±¡
-** verify()**ï¼šç”¨äºæ£€æŸ¥è°ƒç”¨æ–¹æ³•æ—¶æä¾›çš„æ˜¯å¦æ˜¯æŒ‡å®šå‚æ•°ï¼Œè¿™æ˜¯ä¸€ç§æ–­è¨€

### 6.4.1 éœ€æ±‚ 1

> ğŸ’¡ ä»…å½“æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡æ‰ç¼–å†™æ–°æµ‹è¯•

- è¿™æ ·åšçš„å¥½å¤„ï¼šä¸“æ³¨äºå°å‹å·¥ä½œå•å…ƒï¼Œè€Œå®ç°ä»£ç å‡ ä¹å§‹ç»ˆå¤„äºèƒ½å¤Ÿè¿è¡Œçš„çŠ¶æ€
- ç¡®ä¿å®ç°ä»£ç å‡ ä¹å§‹ç»ˆåƒé¢„æœŸçš„é‚£æ ·å·¥ä½œæ˜¯ TDD çš„ç›®æ ‡ä¹‹ä¸€

### 6.5.1 åˆ†ç¦»æµ‹è¯•

Gradle æµ‹è¯•æ‰€æœ‰åç¼€ä¸º Spec çš„ç±»

```gradle
test {
    include '**/*Spec.class'
}

task testInteg(type: Test) {
    include '**/*Spec.class'
}
```

```cmd
gradle testInteg
```

### 6.6 å°ç»“

æµè¡Œçš„ Java æ¨¡æ‹Ÿæ¡†æ¶

- Mockitoï¼ˆåœ¨å¹³è¡¡åŠŸèƒ½æ€§å’Œæ˜“ç”¨æ€§æ–¹é¢æ˜¯æœ€å¥½çš„ï¼‰
- EasyMock
- JMock
- PowerMock

## 7 BDDâ€”â€”ä¸æ•´ä¸ªå›¢é˜Ÿåä½œ

### 7.2 è¡Œä¸ºé©±åŠ¨å¼€å‘

- BDD æ˜¯ä¸€ç§æ•æ·è¿‡ç¨‹ï¼Œçš†åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­å§‹ç»ˆä¸“æ³¨äºç›¸å…³æ–¹çš„åˆ©ç›Š
- è¿™æ˜¯ä¸€ä¸ª TDD å˜ç§ï¼Œå®ƒä¹Ÿé¢„å…ˆå®šä¹‰è§„èŒƒï¼Œæ›´åŠ è§„èŒƒå®Œæˆå®ç°å¹¶å®šæœŸè¿è¡Œè§„èŒƒä»¥éªŒè¯ç»“æœ
- ä¸åƒ TDD é‚£æ ·åŸºäºå•å…ƒæµ‹è¯•ï¼ŒBDD å€¡å¯¼ç¼–å†™å¤šä¸ªè§„èŒƒï¼ˆæˆä¸ºåœºæ™¯ï¼‰å†å¼€å§‹å®ç°ï¼ˆç¼–ç ï¼‰

### 7.2.1 å™è¿°

å™è¿°çš„ç›®æ ‡æ˜¯å›ç­”å¦‚ä¸‹ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼š

- 1. è¦å¼€å‘çš„åŠŸèƒ½çš„å¥½å¤„æˆ–ä»·å€¼ï¼ˆIn order toï¼‰ï¼Ÿ
- 2. è°éœ€è¦è¿™é¡¹åŠŸèƒ½ï¼ˆAs aï¼‰ï¼Ÿ
- 3. è¦å¼€å‘ä»€ä¹ˆæ ·çš„åŠŸèƒ½ï¼ˆI want toï¼‰ï¼Ÿ

### 7.2.2 åœºæ™¯

å…³äº BDD æ›´å¹¿æ³›çš„ç”¨é€”å’Œæ·±å…¥çš„è®¨è®ºï¼Œå‚é˜… Gojko Adzic çš„è‘—ä½œ ã€Šå®ä¾‹åŒ–éœ€æ±‚ï¼šå›¢é˜Ÿå¦‚ä½•äº¤ä»˜æ­£ç¡®çš„è½¯ä»¶ã€‹

- **Given**ï¼šå®šä¹‰äº†ä¸Šä¸‹æ–‡ï¼Œå³åœºæ™¯çš„å‰ç½®æ¡ä»¶ï¼ˆä¾‹ï¼šå½“ç”¨æˆ·åœ¨å›¾ä¹¦é¡µé¢ï¼‰
- **When**ï¼šå®šä¹‰äº†æ“ä½œæˆ–æŸç§äº‹ä»¶ï¼ˆä¾‹ï¼šç”¨æˆ·é€‰æ‹©ä¸€æœ¬ä¹¦ï¼›ç”¨æˆ·ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼‰
- **Then**ï¼šæ“ä½œç»“æœï¼ˆä¾‹ï¼šå›¾ä¹¦å·²è¢«åˆ é™¤ï¼‰

### 7.3 ä¹¦åº—åº”ç”¨ç¨‹åºçš„ BDD æ•…äº‹

ä½¿ç”¨ JBehave æ ¼å¼ç¼–å†™æ•…äº‹

- å™è¿°éƒ½ä»¥ Narrative è¡Œæ‰“å¤´ï¼Œåé¢è·Ÿç€ In order toï¼ŒAs aï¼ŒI want to
- åˆ—å‡ºæ½œåœ¨åœºæ™¯ï¼Œéƒ½ä»¥ Scenario å¼€å¤´ï¼Œå†åšç®€çŸ­æè¿°

### 7.4.3 Selenium å’Œ Selenide

PhantomJS æ˜¯ä¸€æ¬¾æ— ç•Œé¢æµè§ˆå™¨ï¼ˆheadless browserï¼‰ï¼Œä¸ä½¿ç”¨ä»»ä½• UI å°±èƒ½å·¥ä½œ

## 8 é‡æ„é—ç•™ä»£ç â€”â€”ä½¿å…¶é‡ç„•é’æ˜¥

### 8.1 é—ç•™ä»£ç 

> é—ç•™ä»£ç å°±æ˜¯ä¸å¸¦æµ‹è¯•çš„ä»£ç 

Michael Feathers åœ¨å…¶è‘—ä½œã€Šä¿®æ”¹ä»£ç çš„è‰ºæœ¯ã€‹ä¸­æŒ‡å‡ºäº†é—ç•™ä»£ç çš„ä¸€äº›åå‘³

> ğŸ’¡ **ä»£ç åå‘³**
> 
> - åå‘³æ˜¯ä»£ç ä¸­è¿èƒŒäº†åŸºæœ¬è®¾è®¡å…ƒç´ å¹¶ç»™è®¾è®¡è´¨é‡å¸¦æ¥è´Ÿé¢å½±å“çš„ç»“æ„
> - ä»£ç åå‘³é€šå¸¸ä¸åŒäº bugï¼Œå®ƒä»¬ä»æŠ€æœ¯ä¸Šè¯´æ˜¯æ­£ç¡®çš„ï¼Œä¸ä¼šå¯¼è‡´ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œ
> - è€Œæ˜¯æ˜­ç¤ºç€è®¾è®¡å­˜åœ¨ç¼ºé™·ï¼Œè¿™äº›ç¼ºé™·å¯èƒ½å½±å“å¼€å‘é€Ÿåº¦æˆ–å¢åŠ æœªæ¥å‡ºç° bug æˆ–æ•…éšœçš„é£é™©
> â€”â€”æ‘˜è‡ª https://en.wikipedia.org/wiki/Code_smell

é—ç•™ä»£ç å­˜åœ¨çš„ä¸€ç§åœºæ™¯åå‘³é“æ˜¯æ— æ³•æµ‹è¯•
ä¸€èˆ¬è€Œè¨€ï¼Œè‰¯å¥½çš„è®¾è®¡éƒ½æ˜“äºæµ‹è¯•

> ğŸ’¡ **é—ç•™ä»£ç å›°å¢ƒ**
> ä¿®æ”¹ä»£ç å‰ï¼Œå¿…é¡»å‡†å¤‡å¥½æµ‹è¯•ï¼›è€Œè¦å‡†å¤‡å¥½æµ‹è¯•ï¼Œé€šå¸¸è¦ä¿®æ”¹ä»£ç 

### 8.2.7 åº”ç”¨é—ç•™ä»£ç ä¿®æ”¹ç®—æ³•

- DbUnit æµ‹è¯•æ¡†æ¶
- RestAssured æµ‹è¯•æ¡†æ¶

### 8.2.8 æå–å¹¶é‡å†™è°ƒç”¨

Roy Osherove çš„è‘—ä½œã€Šå•å…ƒæµ‹è¯•çš„è‰ºæœ¯ã€‹

### 8.2.9 æ¶ˆé™¤çŠ¶æ€çš„â€œåŸºæœ¬ç±»å‹åæ‰§â€åå‘³

> â€œåŸºæœ¬ç±»å‹åæ‰§â€åå‘³æŒ‡çš„æ˜¯ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹è¡¨ç¤ºåŸŸæ¦‚å¿µã€‚ä¾‹å¦‚ï¼š

- ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºæ¶ˆæ¯
- ä½¿ç”¨æ•´æ•°è¡¨ç¤ºé‡‘é¢
- ä½¿ç”¨ç»“æ„ä½“/å­—å…¸/æ•£åˆ—è¡¨ç¤ºå¯¹è±¡

## 9 åŠŸèƒ½å¼€å…³â€”â€”å°†æœªå®Œæˆçš„åŠŸèƒ½éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### 9.2 åŠŸèƒ½å¼€å…³

ç”¨äºå¤„ç†åº”ç”¨ç¨‹åºåŠŸèƒ½çš„ä¼˜ç§€æ¡†æ¶å’Œåº“æœ‰å¾ˆå¤šï¼Œä¸‹é¢æ˜¯å…¶ä¸­çš„ä¸¤ä¸ªï¼š

- Togglz
- FF4j

## 10 ç»¼è¿°

### 10.2.2 æµç¨‹

> ğŸ’¡ **ä»…åœ¨æµ‹è¯•å¤±è´¥åæ‰ç¼–å†™æ–°ä»£ç **

- å¥½å¤„ï¼šè¿™ç¡®è®¤äº†åœ¨æ²¡æœ‰å®ç°çš„æƒ…å†µä¸‹ï¼Œæµ‹è¯•ä¸ç®¡ç”¨
- å¦‚æœæµ‹è¯•ä¸è¦æ±‚ç¼–å†™æˆ–ä¿®æ”¹å®ç°å°±èƒ½é€šè¿‡ï¼Œåˆ™è¯´æ˜è¦ä¹ˆå®ƒæµ‹è¯•çš„åŠŸèƒ½å·²å®ç°ï¼Œè¦ä¹ˆæµ‹è¯•æœ¬èº«å­˜åœ¨ç¼ºé™·
- å¦‚æœæµ‹è¯•å®šä¹‰çš„æ–°åŠŸèƒ½æ²¡æœ‰å®ç°è€Œæ€»æ˜¯èƒ½å¤Ÿé€šè¿‡ï¼Œå°±è¯´æ˜å®ƒæ¯«æ— ç”¨å¤„

> ğŸ’¡ **æ¯æ¬¡ä¿®æ”¹å®ç°ä»£ç åï¼Œéƒ½å†æ¬¡è¿è¡Œæ‰€æœ‰æµ‹è¯•**

æŒç»­é›†æˆå·¥å…·

- Jenkins
- Hudson
- Travis
- Bamboo

> ğŸ’¡ **ä»…å½“æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡åæ‰ç¼–å†™æ–°æµ‹è¯•**

å¥½å¤„ï¼šå°†å§‹ç»ˆä¸“æ³¨äºå°å‹å·¥ä½œå•å…ƒï¼›å®ç°ä»£ç å‡ ä¹å§‹ç»ˆå¤„äºå¯è¿è¡Œçš„çŠ¶æ€

> ğŸ’¡ **ä»…å½“æµ‹è¯•éƒ½é€šè¿‡åæ‰é‡æ„**

- å¥½å¤„ï¼šè¿™æ ·çš„é‡æ„æ˜¯å®‰å…¨çš„
- å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé‡æ„æœŸé—´éƒ½ä¸éœ€è¦ç¼–å†™æ–°æµ‹è¯•â€”â€”å¯¹æ—¢æœ‰æµ‹è¯•åšç»†å¾®ä¿®æ”¹å³å¯

### 10.2.3 å¼€å‘å®è·µ

> ğŸ’¡ **ç¼–å†™è®©æµ‹è¯•èƒ½å¤Ÿé€šè¿‡çš„æœ€ç®€å•çš„ä»£ç **

å¥½å¤„ï¼š

- ç¡®ä¿è®¾è®¡è¶Šæ¥è¶Šæ¸…æ™°ï¼›
- é¿å…å®ç°ä¸å¿…è¦çš„åŠŸèƒ½
- éµå¾ªäº† KISS åŸåˆ™

> ğŸ’¡ **å…ˆç¼–å†™æ–­è¨€ï¼Œå†ç¼–å†™æ“ä½œ**

å¥½å¤„ï¼šæ›´æ—©æ¾„æ¸…æµ‹è¯•ç›®çš„

> ğŸ’¡ **æœ€å¤§é™åº¦å‡å°‘æ¯ä¸ªæµ‹è¯•ä¸­çš„æ–­è¨€**

å¥½å¤„ï¼š

- é¿å…ä¸çŸ¥é“å“ªä¸ªæ–­è¨€å¯¼è‡´æµ‹è¯•å¤±è´¥
- è®©æ›´å¤šæ–­è¨€å¾—ä»¥æ‰§è¡Œ

åŒ…å«å¤šä¸ªæ–­è¨€ä¼šä»¤äººè¿·æƒ‘ï¼Œä¸çŸ¥é“æµ‹è¯•çš„ç›®æ ‡åˆ°åº•æ˜¯ä»€ä¹ˆ
è¿™ç§å®è·µå¹¶ä¸æ„å‘³ç€æ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½åªèƒ½åŒ…å«ä¸€ä¸ªæ–­è¨€ã€‚å¦‚æœæœ‰å¤šä¸ªæµ‹è¯•ç›¸åŒé€»è¾‘æ¡ä»¶æˆ–åŠŸèƒ½å•å…ƒçš„æ–­è¨€ï¼Œå¯å°†å®ƒä»¬éƒ½æ”¾åœ¨åŒä¸€ä¸ªæµ‹è¯•æ–¹æ³•ä¸­

> ğŸ’¡ **ä¸è¦è®©æµ‹è¯•ä¾èµ–å…¶ä»–æµ‹è¯•**

å¥½å¤„ï¼šæµ‹è¯•èƒ½ä»¥ä»»ä½•é¡ºåºç‹¬ç«‹æ‰§è¡Œï¼Œä¸ç®¡è¿è¡Œå…¨éƒ¨è¿˜æ˜¯éƒ¨åˆ†æµ‹è¯•ï¼Œéƒ½å°†å¦‚æ­¤

> ğŸ’¡ **æµ‹è¯•çš„è¿è¡Œé€Ÿåº¦å¿…é¡»å¾ˆå¿«**

å¥½å¤„ï¼š

- è¿™æ ·å°±èƒ½ç»å¸¸è¿è¡Œæµ‹è¯•
- å¯å¿«é€Ÿæä¾›åé¦ˆ
- é—®é¢˜å‘ç°çš„è¶Šæ—©ï¼Œä¿®å¤å°±è¶Šå®¹æ˜“

> ğŸ’¡ **ä½¿ç”¨æµ‹è¯•æ›¿èº«**

å¥½å¤„ï¼šå‡å°‘ä»£ç ä¾èµ–å¹¶æé«˜æµ‹è¯•çš„æ‰§è¡Œé€Ÿåº¦

> ğŸ’¡ **Use set-up and tear-down methods**

å¥½å¤„ï¼šè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç±»æˆ–å„ä¸ªæµ‹è¯•æ–¹æ³•ä¹‹å‰å’Œä¹‹åæ‰§è¡Œè®¾ç½®å’Œæ‹†é™¤ä»£ç 

> ğŸ’¡ **ä¸è¦åœ¨æµ‹è¯•ä¸­ä½¿ç”¨åŸºç±»**

å¥½å¤„ï¼šè®©æµ‹è¯•æ›´æ¸…æ™°

### 10.2.4 å·¥å…·

> ğŸ’¡ **ä»£ç è¦†ç›–ç‡å’ŒæŒç»­é›†æˆï¼ˆCIï¼‰å·¥å…·**

å¥½å¤„ï¼šç¡®ä¿æµ‹è¯•è¦†ç›–æ¯ä¸ªè§’è½

- JaCoCo
- Clover
- Cobertura

> ğŸ’¡ **ç»“åˆä½¿ç”¨ TDD å’Œ BDD**

å¥½å¤„ï¼šæ¶µç›–é¢å‘å¼€å‘äººå‘˜çš„å•å…ƒæµ‹è¯•å’Œé¢å‘å®¢æˆ·çš„åŠŸèƒ½æµ‹è¯•